# Pytheas

Main repository for the Pytheas submersible probe system. 

**Misc. Info**
- The PCS-generated video stream is located at tcp/h264://pytheas-usp:19212
- It is HIGHLY recommended to adjust GPU memory allocation on the USP to 256MB. This can be done from raspi-config.

**List of Acronyms/Terms**
- **USP**  - Underwater Sensor Platform - The primary platform in the Pytheas system; a water-proofed and pressure-rated sensor pod designed to be deployed in deep water.
- **SCU**  - Surface Control Unit       - Surface-based platform for communicating and controlling the USP.
- **PCS**  - Pytheas Control System     - Primary operating software for the USP, provides live manual interface as well as autonomous operation.
- **ACAP** - Autonomous Capture         - Shorthand for csv capture files generated in autonomous mode.
- **Passive**         - As in, passive captures. Shorthand for the standard csv capture file generated for each session recording any instance the sensors are manually polled.
- **Tethered Mode**   - Regular mode of operation; the USP is tethered to the SCU via Cat6 cable so manual operation is possible. Max operating depth is restricted by the length of the cable.
- **Autonomous Mode** - USP has no tether to the SCU and is only able to follow pre-scripted operations (via the ACD). Max operating depth is the USP's crush depth (350 meters).

**Key Files and Scripts**
- **pcs.py**  - Pytheas Control System. Run this on the USP for easy manual control of the platform. 
- **pcs.log** - Standard log file generated by the PCS software.

**CSV Fields**
- **T**        - Time Index - Number of ticks since the capture session began. Can be used as a key value if importing in to DBs. Note that the T field is only present on autonomous data captures.
- **LTime**    - Local Time - The time of day that the record was captured. Based off of whatever time zone is configured in the USP.
- **Pressure** - The water pressure at the time of capture. Measured in millibars.
- **Depth**    - The depth of the USP at time of capture, computed from the pressure reading. Measured in meters.
- **ETemp**    - External Temperature - The water temperature at time of capture, measured in Celcius.
- **ITemp**    - Internal Temperature - Internal USP temperature as reported by the CPU. Measured in Calcius.
- **Notes**    - Free-form notes written by the operator. The notes field is only present on passive data captures.

**Dependencies for USP**
- Python 3
- PrettyTable python library
- BlueRobotics ms5837-python library - repackaged in this repo but fresh copy can be sourced from https://github.com/bluerobotics/ms5837-python
- python-smbus library (needed for ms5837-python)
- Screen

